### 2019-05-12
uws 要用以前的，uws.tar.gz

mnf.cpp是最近可以使用的 策略cpp

如果要增加自定义的周期，比如7分钟K线，或者3456秒周期，需要在 bars.h文件中， 修改 M_FF， 如下面的 3456秒周期

```c
static const std::map<std::string,int> M_FF = {
  {"100_T",   0      },  // 0 tick!!!
  {"101_1S",  1      },  // 1
  {"102_2S",  2      },  // 2
  {"103_3S",  3      },  // 3
  {"104_5S",  5      },  // 4
  {"105_10S", 10     },  // 5
  {"106_15S", 15     },  // 6
  {"107_20S", 20     },  // 7
  {"108_30S", 30     },  // 8
  
  
   //---------- for custom define 自定义周期---------------
  {"131_cu",  -1   },
  {"132_cu",  -1   },
  {"133_cu",  -1   },
  {"134_cu",  -1   },
  {"135_xp",  3456 },
  {"136_cu",  -1   },
  {"137_cu",  -1   },
  {"138_cu",  -1   },
  {"139_cu",  -1   },
  {"140_cu",  -1   },

```

### make uws
```
rabbit@VM-0-12-ubuntu:~/uquant/uws$ ll
total 36
drwxrwxr-x 2 rabbit rabbit 4096 Jun  5 23:11 benchmarks
drwxrwxr-x 2 rabbit rabbit 4096 Jun  5 23:11 examples
-rw-rw-r-- 1 rabbit rabbit  869 Jun  5 23:11 LICENSE
-rw-rw-r-- 1 rabbit rabbit 1263 Jun  5 23:11 Makefile
drwxrwxr-x 5 rabbit rabbit 4096 Jun  5 23:11 misc
-rw-rw-r-- 1 rabbit rabbit 1167 Jun  5 23:11 README.md
drwxrwxr-x 2 rabbit rabbit 4096 Jun  5 23:11 src
drwxrwxr-x 2 rabbit rabbit 4096 Jun  5 23:11 tests
-rwxrwxr-x 1 rabbit rabbit 2338 Jun  5 23:11 VC++.vcxproj
rabbit@VM-0-12-ubuntu:~/uquant/uws$ 
rabbit@VM-0-12-ubuntu:~/uquant/uws$ make
make `(uname -s)`
make[1]: Entering directory '/home/rabbit/uquant/uws'
g++   -std=c++11 -O3 -I src -shared -fPIC src/Extensions.cpp src/Group.cpp src/Networking.cpp src/Hub.cpp src/Node.cpp src/WebSocket.cpp src/HTTPSocket.cpp src/Socket.cpp src/Epoll.cpp -s -o libuWS.so
make[1]: Leaving directory '/home/rabbit/uquant/uws'
rabbit@VM-0-12-ubuntu:~/uquant/uws$ 
rabbit@VM-0-12-ubuntu:~/uquant/uws$ ll
total 216
drwxrwxr-x 2 rabbit rabbit   4096 Jun  5 23:11 benchmarks
drwxrwxr-x 2 rabbit rabbit   4096 Jun  5 23:11 examples
-rwxrwxr-x 1 rabbit rabbit 183800 Jun  5 23:24 libuWS.so
-rw-rw-r-- 1 rabbit rabbit    869 Jun  5 23:11 LICENSE
-rw-rw-r-- 1 rabbit rabbit   1263 Jun  5 23:11 Makefile
drwxrwxr-x 5 rabbit rabbit   4096 Jun  5 23:11 misc
-rw-rw-r-- 1 rabbit rabbit   1167 Jun  5 23:11 README.md
drwxrwxr-x 2 rabbit rabbit   4096 Jun  5 23:11 src
drwxrwxr-x 2 rabbit rabbit   4096 Jun  5 23:11 tests
-rwxrwxr-x 1 rabbit rabbit   2338 Jun  5 23:11 VC++.vcxproj
rabbit@VM-0-12-ubuntu:~/uquant/uws$ 
```

### postgres lib
```
root@VM-0-12-ubuntu:~# apt-get install libpq-dev
```
